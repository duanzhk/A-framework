{"code":"import { Component } from \"cc\";\r\nimport { AbstractCore, autoRegister, ServiceLocator } from \"../core\";\r\nimport { UIManager } from \"./UIManager\";\r\nimport { ResLoader } from \"./ResLoader\";\r\nimport { Broadcaster } from \"./Broadcaster\";\r\nclass Core extends AbstractCore {\r\n    initialize() {\r\n        console.log('Core fromework initialize');\r\n        // 注册框架基础服务\r\n        ServiceLocator.regService('EventManager', new Broadcaster());\r\n        ServiceLocator.regService('ResLoader', new ResLoader());\r\n        ServiceLocator.regService('UIManager', new UIManager());\r\n        // 注册业务模块（通过装饰器自动注册）\r\n        // 推迟到构造函数执行完毕\r\n        queueMicrotask(() => autoRegister(this));\r\n    }\r\n}\r\nexport class CocosCore extends Component {\r\n    onLoad() {\r\n        ServiceLocator.regService('core', new Core());\r\n    }\r\n}\r\n","references":["/Users/dzk/Documents/git-projects/cocos-modular-flow-framework/src/core/index.ts","/Users/dzk/Documents/git-projects/cocos-modular-flow-framework/src/libs/UIManager.ts","/Users/dzk/Documents/git-projects/cocos-modular-flow-framework/src/libs/ResLoader.ts","/Users/dzk/Documents/git-projects/cocos-modular-flow-framework/src/libs/Broadcaster.ts"],"dts":{"name":"/Users/dzk/Documents/git-projects/cocos-modular-flow-framework/node_modules/.cache/rollup-plugin-typescript2/placeholder/libs/CocosCore.d.ts","writeByteOrderMark":false,"text":"import { Component } from \"cc\";\r\nexport declare abstract class CocosCore extends Component {\r\n    protected onLoad(): void;\r\n}\r\n"}}
